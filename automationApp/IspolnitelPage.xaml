<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="automationApp.IspolnitelPage"
             BackgroundImageSource="fon.jpg"
             NavigationPage.HasNavigationBar="False">

    <ScrollView>
        <Grid x:Name="MainLayout" Padding="24">
            <!-- Фоновый элемент с прозрачностью -->
            <Frame
                BackgroundColor="#F2F2F2"
                BorderColor="Transparent"
                CornerRadius="32"
                Padding="0"
                HasShadow="False"
                Opacity="0.5"
                HorizontalOptions="Fill"
                VerticalOptions="Fill" />

            <!-- Основной контент -->
            <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto"
                  ColumnDefinitions="*,*"
                  ColumnSpacing="120"
                  RowSpacing="7">

                <!-- (левая колонка) -->
                <VerticalStackLayout Grid.Column="0"
                                     Grid.Row="1"
                                     Grid.RowSpan="6"
                                     Spacing="16"
                                     VerticalOptions="Start">

                    <!-- Контент -->
                    <Frame
                        BackgroundColor="Transparent"
                        BorderColor="Transparent"
                        CornerRadius="32"
                        Padding="16,16,16,0"
                        HasShadow="False"
                        HorizontalOptions="Center"
                        VerticalOptions="Start">
                        <VerticalStackLayout>
                            <!-- Заголовок -->
                            <Label Grid.ColumnSpan="2"
                                   Text="Заявка на права"
                                   FontSize="48"
                                   FontAttributes="Bold"
                                   FontFamily="Inter"
                                   HorizontalOptions="Center"
                                   HorizontalTextAlignment="Center"
                                   TextColor="Black"
                                   Margin="0,0,0,8" />

                            <HorizontalStackLayout Spacing="4" Margin="0,0,0,16">
                                <VerticalStackLayout Spacing="4">
                                    <Button Text="Email" x:Name="label_right_email" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" />
                                    <Button Text="Bitrix" x:Name="label_right_bitrix" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32"  Clicked="OnRightBitrixButtonClicked"/>
                                    <Button Text="Domain" x:Name="label_right_domain" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnRightDomainButtonClicked"/>
                                    <Button Text="1C" x:Name="label_right_1c" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnRight1CButtonClicked"/>
                                </VerticalStackLayout>
                                <VerticalStackLayout Spacing="4">
                                    <Button Text="Elastix" x:Name="label_right_elastix" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" />
                                    <Button Text="Google" x:Name="label_right_google" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" />
                                    <Button Text="VPN" x:Name="label_right_vpn" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" />
                                    <Button Text="Teflex" x:Name="label_right_teflex" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" />
                                </VerticalStackLayout>
                                <VerticalStackLayout Spacing="4">
                                    <Button Text="Jira" x:Name="label_right_jira" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" />
                                    <Button Text="Radius" x:Name="label_right_radius" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" />
                                    <Button Text="PhoneBook" x:Name="label_right_phonebook" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" />
                                    <Button Text="FileServer" x:Name="label_right_fileserver" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnRightFileServerButtonClicked"/>
                                </VerticalStackLayout>
                            </HorizontalStackLayout>

                            <!-- Заголовок -->
                            <Label Grid.ColumnSpan="2"
                                   Text="Предоставленные права"
                                   FontSize="48"
                                   FontAttributes="Bold"
                                   FontFamily="Inter"
                                   HorizontalOptions="Center"
                                   HorizontalTextAlignment="Center"
                                   TextColor="Black"
                                   Margin="0,0,0,8" />

                            <HorizontalStackLayout Spacing="8">
                                <VerticalStackLayout Spacing="4">
                                    <Button Text="Email" x:Name="checkbox_right_email" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnServiceButtonClicked"/>
                                    <Button Text="Bitrix" x:Name="checkbox_right_bitrix" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnRightExecutionBitrixButtonClicked"/>
                                    <Button Text="Domain" x:Name="checkbox_right_domain" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnRightExecutionDomainButtonClicked"/>
                                    <Button Text="1C" x:Name="checkbox_right_1c" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnRightExecution1CButtonClicked"/>
                                </VerticalStackLayout>
                                <VerticalStackLayout Spacing="4">
                                    <Button Text="Elastix" x:Name="checkbox_right_elastix" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnServiceButtonClicked"/>
                                    <Button Text="Google" x:Name="checkbox_right_google" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnServiceButtonClicked"/>
                                    <Button Text="VPN" x:Name="checkbox_right_vpn" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnServiceButtonClicked"/>
                                    <Button Text="Teflex" x:Name="checkbox_right_teflex" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnServiceButtonClicked"/>
                                </VerticalStackLayout>
                                <VerticalStackLayout Spacing="4">
                                    <Button Text="Jira" x:Name="checkbox_right_jira" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnServiceButtonClicked"/>
                                    <Button Text="Radius" x:Name="checkbox_right_radius" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnServiceButtonClicked"/>
                                    <Button Text="PhoneBook" x:Name="checkbox_right_phonebook" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnServiceButtonClicked"/>
                                    <Button Text="FileServer" x:Name="checkbox_right_fileserver" WidthRequest="194" HeightRequest="66" FontSize="22"
                                            FontFamily="Inter" BackgroundColor="White" TextColor="#4B164C" BorderColor="#4B164C"
                                            BorderWidth="2" CornerRadius="32" Clicked="OnRightExecutionFileServerButtonClicked"/>
                                </VerticalStackLayout>
                            </HorizontalStackLayout>
                        </VerticalStackLayout>
                    </Frame>
                </VerticalStackLayout>

                <!-- (правая колонка) -->
                <VerticalStackLayout Grid.Column="1" Grid.Row="1" Spacing="16">
                    <!-- Контент -->
                    <Frame
                        BackgroundColor="Transparent"
                        BorderColor="Transparent"
                        CornerRadius="32"
                        Padding="16,16,16,0"
                        HasShadow="False"
                        HorizontalOptions="Center"
                        VerticalOptions="Start">
                        <VerticalStackLayout>
                            <!-- Заголовок -->
                            <Label Grid.ColumnSpan="2"
                                   Text="Заявки"
                                   FontSize="48"
                                   FontAttributes="Bold"
                                   FontFamily="Inter"
                                   HorizontalOptions="Center"
                                   HorizontalTextAlignment="Center"
                                   TextColor="Black"
                                   Margin="0,0,0,16" />

                            <HorizontalStackLayout Spacing="20" Margin="0,0,0,20">
                                <!-- Пикер сортировки -->
                                <Frame WidthRequest="208" HeightRequest="61" BackgroundColor="#4B164C" BorderColor="#4B164C" CornerRadius="32" Padding="0" HasShadow="False">
                                    <Picker x:Name="SortPicker"
                FontSize="22"
                FontFamily="Inter"
                TextColor="White"
                VerticalOptions="Center"
                BackgroundColor="Transparent"
                SelectedIndexChanged="SortPicker_SelectedIndexChanged">
                                    </Picker>
                                </Frame>

                                <!-- Пикер фильтрации -->
                                <Frame WidthRequest="208" HeightRequest="61" BackgroundColor="#4B164C" BorderColor="#4B164C" CornerRadius="32" Padding="0" HasShadow="False">
                                    <Picker x:Name="FilterPicker"
                FontSize="22"
                FontFamily="Inter"
                TextColor="White"
                VerticalOptions="Center"
                BackgroundColor="Transparent"
                SelectedIndexChanged="FilterPicker_SelectedIndexChanged">
                                    </Picker>
                                </Frame>
                            </HorizontalStackLayout>
                            <ScrollView HeightRequest="550">
                                <ListView x:Name="ApplicationsListView" HasUnevenRows="True" ItemSelected="ApplicationsListView_ItemSelected">
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <ViewCell>
                                            <Frame BackgroundColor="{Binding BackgroundColor}" 
                       BorderColor="{Binding BorderColor}" 
                       WidthRequest="545" 
                       HeightRequest="160" 
                       CornerRadius="15" 
                       Padding="16" 
                       HasShadow="False"
                       Margin="0,10">
                                                <VerticalStackLayout Spacing="8">
                                                    <Label Text="{Binding FIO}" 
                               FontFamily="Inter" 
                               FontSize="28" 
                               TextColor="{Binding FioTextColor}" 
                               HorizontalOptions="Start" />
                                                    <Label Text="{Binding ApplicationDate, StringFormat='{0:dd.MM.yyyy HH:mm}'}" 
                               FontFamily="Inter" 
                               FontSize="22" 
                               TextColor="{Binding DateTextColor}" 
                               HorizontalOptions="Start" />
                                                    <Label Text="{Binding Status}" 
                               FontFamily="Inter" 
                               FontSize="22" 
                               TextColor="{Binding StatusTextColor}" 
                               HorizontalOptions="End" >
                                                        <Label.GestureRecognizers>
                                                            <TapGestureRecognizer Tapped="OnStatusLabelTapped" />
                                                        </Label.GestureRecognizers>
                                                    </Label>
                                                </VerticalStackLayout>
                                            </Frame>
                                        </ViewCell>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                                    
                            </ListView>
                            </ScrollView>
                        </VerticalStackLayout>
                    </Frame>
                </VerticalStackLayout>

                <!-- Нижняя часть -->
                <VerticalStackLayout Grid.ColumnSpan="2" Grid.Row="7" Spacing="16" Margin="0,32,0,32">
                    <!-- Первая строка кнопок -->
                    <Label Grid.ColumnSpan="2"
       Text="Рабочие пространства"
       FontSize="48"
       FontAttributes="Bold"
       FontFamily="Inter"
       HorizontalOptions="Center"
       HorizontalTextAlignment="Center"
       TextColor="Black"
       Margin="0,0,0,8" />
                    <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                        <Button Text="Email" x:Name="button_right_email" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White" 
                                BorderWidth="2" CornerRadius="32" Clicked="OpenKerioConnect"/>
                        <Button Text="Bitrix" x:Name="button_right_bitrix" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White" 
                                BorderWidth="2" CornerRadius="32" Clicked="OpenBitrix" />
                        <Button Text="Domain" x:Name="button_right_domain" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White" 
                                BorderWidth="2" CornerRadius="32" Clicked="OpenMicrosoftActiveDirectory"/>
                        <Button Text="1C" x:Name="button_right_1c" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White"  IsVisible="False"
                                BorderWidth="2" CornerRadius="32" />
                        <Button Text="Elastix" x:Name="button_right_elastix" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White"  IsVisible="False"
                                BorderWidth="2" CornerRadius="32" />
                        <Button Text="Google" x:Name="button_right_google" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White" 
                                BorderWidth="2" CornerRadius="32" Clicked="OpenGoogleDriveDisk" />
                    </HorizontalStackLayout>

                    <!-- Вторая строка кнопок -->
                    <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                        <Button Text="VPN" x:Name="button_right_vpn" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White"  IsVisible="False"
                                BorderWidth="2" CornerRadius="32" />
                        <Button Text="Teflex" x:Name="button_right_teflex" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White"  IsVisible="False"
                                BorderWidth="2" CornerRadius="32" />
                        <Button Text="Jira" x:Name="button_right_jira" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White"  IsVisible="False"
                                BorderWidth="2" CornerRadius="32" />
                        <Button Text="Radius" x:Name="button_right_radius" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White" 
                                BorderWidth="2" CornerRadius="32" Clicked="OpenRadius"/>
                        <Button Text="PhoneBook" x:Name="button_right_phonebook" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White" 
                                BorderWidth="2" CornerRadius="32" Clicked="OpenPhoneBook"/>
                        <Button Text="FileServer" x:Name="button_right_fileserver" WidthRequest="194" HeightRequest="66" FontSize="22"
                                FontFamily="Inter" BackgroundColor="#4B164C" TextColor="White"  IsVisible="False"
                                BorderWidth="2" CornerRadius="32" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Grid>
        </Grid>
    </ScrollView>
</ContentPage>
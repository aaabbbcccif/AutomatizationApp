<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="automationApp.PhoneBookPage"
             BackgroundImageSource="fon.jpg"
             NavigationPage.HasNavigationBar="False">
    <ScrollView>
        <Grid Padding="24">
            <!-- Полупрозрачный фон -->
            <Frame
          BackgroundColor="#F2F2F2"
          BorderColor="Transparent"
          CornerRadius="32"
          Padding="0"
          HasShadow="False"
          Opacity="0.5"
          HorizontalOptions="Center"
          VerticalOptions="Fill"
          WidthRequest="1350" />

            <!-- Контент -->
            <Frame
          BackgroundColor="Transparent"
          BorderColor="Transparent"
          CornerRadius="32"
          Padding="16"
          HasShadow="False"
          HorizontalOptions="Center"
          VerticalOptions="Start"
          WidthRequest="1300">
                <Grid Padding="24" RowSpacing="16">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Заголовок -->
                    <Label Text="Телефонная книга"
                     Grid.Row="0"
                     FontSize="48"
                     FontAttributes="Bold"
                     FontFamily="Inter"
                     HorizontalOptions="Center"
                     HorizontalTextAlignment="Center"
                     TextColor="Black"
                     Margin="0" />

                    
                    <Frame Grid.Row="2"
    CornerRadius="15"
    Padding="0"
    BackgroundColor="#FFFFFF"
    BorderColor="Transparent"
    HeightRequest="280">
                        <ScrollView Orientation="Horizontal">
                            <Grid RowDefinitions="Auto,*">
                                <!-- Заголовок таблицы -->
                                <Grid ColumnDefinitions="*,*,*,*,*,*"
                  Padding="0"
                  BackgroundColor="White"
                  RowSpacing="0"
                  ColumnSpacing="1">
                                    <Label Grid.Column="0" Text="Фамилия" TextColor="White" FontSize="16" BackgroundColor="#4B164C" Padding="10" />
                                    <Label Grid.Column="1" Text="Имя" TextColor="White" FontSize="16" BackgroundColor="#4B164C" Padding="10" />
                                    <Label Grid.Column="2" Text="Отчество" TextColor="White" FontSize="16" BackgroundColor="#4B164C" Padding="10" />
                                    <Label Grid.Column="3" Text="Телефон" TextColor="White" FontSize="16" BackgroundColor="#4B164C" Padding="10" />
                                    <Label Grid.Column="4" Text="Электронная почта" TextColor="White" FontSize="16" BackgroundColor="#4B164C" Padding="10" />
                                    <Label Grid.Column="5" Text="Описание" TextColor="White" FontSize="16" BackgroundColor="#4B164C" Padding="10" />
                                </Grid>
                                <!-- Содержимое таблицы -->
                                <CollectionView x:Name="MyCollectionView" Grid.Row="1" SelectionMode="Single" SelectionChanged="CollectionView_SelectionChanged">
                                    <CollectionView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid ColumnDefinitions="*,*,*,*,*,*"
                              Padding="0"
                              BackgroundColor="White"
                              RowSpacing="0"
                              ColumnSpacing="1">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal">
                                                            <VisualState.Setters>
                                                                <Setter Property="BackgroundColor" Value="White" />
                                                                <Setter TargetName="LastNameLabel" Property="Label.TextColor" Value="Black" />
                                                                <Setter TargetName="FirstNameLabel" Property="Label.TextColor" Value="Black" />
                                                                <Setter TargetName="PatronymicLabel" Property="Label.TextColor" Value="Black" />
                                                                <Setter TargetName="PhoneLabel" Property="Label.TextColor" Value="Black" />
                                                                <Setter TargetName="EmailLabel" Property="Label.TextColor" Value="Black" />
                                                                <Setter TargetName="DescriptionLabel" Property="Label.TextColor" Value="Black" />
                                                            </VisualState.Setters>
                                                        </VisualState>
                                                        <VisualState x:Name="Selected">
                                                            <VisualState.Setters>
                                                                <Setter Property="BackgroundColor" Value="#6C2B6F" />
                                                                <Setter TargetName="LastNameLabel" Property="Label.TextColor" Value="White" />
                                                                <Setter TargetName="FirstNameLabel" Property="Label.TextColor" Value="White" />
                                                                <Setter TargetName="PatronymicLabel" Property="Label.TextColor" Value="White" />
                                                                <Setter TargetName="PhoneLabel" Property="Label.TextColor" Value="White" />
                                                                <Setter TargetName="EmailLabel" Property="Label.TextColor" Value="White" />
                                                                <Setter TargetName="DescriptionLabel" Property="Label.TextColor" Value="White" />
                                                            </VisualState.Setters>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>

                                                <Border Stroke="LightGray" StrokeThickness="1" Grid.Column="0">
                                                    <Label x:Name="LastNameLabel" Text="{Binding LastName}" Padding="8" TextColor="Black" FontSize="14" />
                                                </Border>
                                                <Border Stroke="LightGray" StrokeThickness="1" Grid.Column="1">
                                                    <Label x:Name="FirstNameLabel" Text="{Binding FirstName}" Padding="8" TextColor="Black" FontSize="14" />
                                                </Border>
                                                <Border Stroke="LightGray" StrokeThickness="1" Grid.Column="2">
                                                    <Label x:Name="PatronymicLabel" Text="{Binding Patronymic}" Padding="8" TextColor="Black" FontSize="14" />
                                                </Border>
                                                <Border Stroke="LightGray" StrokeThickness="1" Grid.Column="3">
                                                    <Label x:Name="PhoneLabel" Text="{Binding Phone}" Padding="8" TextColor="Black" FontSize="14" />
                                                </Border>
                                                <Border Stroke="LightGray" StrokeThickness="1" Grid.Column="4">
                                                    <Label x:Name="EmailLabel" Text="{Binding Email}" Padding="8" TextColor="Black" FontSize="14" />
                                                </Border>
                                                <Border Stroke="LightGray" StrokeThickness="1" Grid.Column="5">
                                                    <Label x:Name="DescriptionLabel" Text="{Binding Description}" Padding="8" TextColor="Black" FontSize="14" />
                                                </Border>
                                            </Grid>
                                        </DataTemplate>
                                    </CollectionView.ItemTemplate>
                                </CollectionView>
                            </Grid>
                        </ScrollView>
                    </Frame>

                    <!-- Поля ввода + Кнопки -->
                    <Grid Grid.Row="3">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="100" />
                            <RowDefinition Height="80" />
                        </Grid.RowDefinitions>

                        <HorizontalStackLayout Grid.Row="0" Spacing="20" HorizontalOptions="Center">
                            <Frame WidthRequest="376" HeightRequest="70" BackgroundColor="White" CornerRadius="32" Padding="32,0" HasShadow="False" BorderColor="#E0E0E0">
                                <Entry x:Name="LastNameEntry"
                                 Placeholder="Фамилия"
                                 FontSize="22"
                                 FontFamily="Inter"
                                 TextColor="Black"
                                 PlaceholderColor="#4A4A4A"
                                 VerticalOptions="Center"
                                 BackgroundColor="Transparent" />
                            </Frame>
                            <Frame WidthRequest="376" HeightRequest="70" BackgroundColor="White" CornerRadius="32" Padding="32,0" HasShadow="False" BorderColor="#E0E0E0">
                                <Entry x:Name="FirstNameEntry"
                                 Placeholder="Имя"
                                 FontSize="22"
                                 FontFamily="Inter"
                                 TextColor="Black"
                                 PlaceholderColor="#4A4A4A"
                                 VerticalOptions="Center"
                                 BackgroundColor="Transparent" />
                            </Frame>
                            <Frame WidthRequest="376" HeightRequest="70" BackgroundColor="White" CornerRadius="32" Padding="32,0" HasShadow="False" BorderColor="#E0E0E0">
                                <Entry x:Name="PatronymicEntry"
                                 Placeholder="Отчество"
                                 FontSize="22"
                                 FontFamily="Inter"
                                 TextColor="Black"
                                 PlaceholderColor="#4A4A4A"
                                 VerticalOptions="Center"
                                 BackgroundColor="Transparent" />
                            </Frame>
                        </HorizontalStackLayout>

                        <HorizontalStackLayout Grid.Row="1" Spacing="20" HorizontalOptions="Center" >
                            <Frame WidthRequest="376" HeightRequest="70" BackgroundColor="White" CornerRadius="32" Padding="32,0" HasShadow="False" BorderColor="#E0E0E0">
                                <Entry x:Name="PhoneEntry"
                                 Placeholder="Телефон"
                                 FontSize="22"
                                 FontFamily="Inter"
                                 TextColor="Black"
                                 PlaceholderColor="#4A4A4A"
                                 VerticalOptions="Center"
                                 BackgroundColor="Transparent" />
                            </Frame>
                            <Frame WidthRequest="376" HeightRequest="70" BackgroundColor="White" CornerRadius="32" Padding="32,0" HasShadow="False" BorderColor="#E0E0E0">
                                <Entry x:Name="EmailEntry"
                                 Placeholder="Электронная почта"
                                 FontSize="22"
                                 FontFamily="Inter"
                                 TextColor="Black"
                                 PlaceholderColor="#4A4A4A"
                                 VerticalOptions="Center"
                                 BackgroundColor="Transparent" />
                            </Frame>
                            <Frame WidthRequest="376" HeightRequest="70" BackgroundColor="White" CornerRadius="32" Padding="32,0" HasShadow="False" BorderColor="#E0E0E0">
                                <Entry x:Name="DescriptionEntry"
      Placeholder="Описание"
      FontSize="22"
      FontFamily="Inter"
      TextColor="Black"
      PlaceholderColor="#4A4A4A"
      VerticalOptions="Center"
      BackgroundColor="Transparent" />
                            </Frame>
                        </HorizontalStackLayout>
                    </Grid>

                    <!-- Кнопки действий -->
                    <HorizontalStackLayout Grid.Row="4" Spacing="20" HorizontalOptions="Center" >
                        <!-- Кнопка Добавить -->
                        <Frame CornerRadius="32"
                         BackgroundColor="#4B164C"
                         Padding="0"
                         HasShadow="False"
                         WidthRequest="280"
                         HeightRequest="71">
                            <Frame.GestureRecognizers>
                                <TapGestureRecognizer Tapped="AddUserClick" />
                            </Frame.GestureRecognizers>
                            <HorizontalStackLayout HorizontalOptions="Center"
                                            VerticalOptions="Center"
                                            Spacing="16"
                                            Padding="0,0,8,0">
                                <Image Source="add_user.png"
                                 HeightRequest="32"
                                 WidthRequest="32"
                                 VerticalOptions="Center" />
                                <Label Text="Добавить"
                                 FontSize="32"
                                 FontFamily="Inter"
                                 TextColor="White"
                                 VerticalOptions="Center" />
                            </HorizontalStackLayout>
                        </Frame>
                        <!-- Кнопка Удалить -->
                        <Frame CornerRadius="32"
                         BackgroundColor="#4B164C"
                         Padding="0"
                         HasShadow="False"
                         WidthRequest="280"
                         HeightRequest="71">
                            <Frame.GestureRecognizers>
                                <TapGestureRecognizer Tapped="DeleteUserClick" />
                            </Frame.GestureRecognizers>
                            <HorizontalStackLayout HorizontalOptions="Center"
                                            VerticalOptions="Center"
                                            Spacing="16"
                                            Padding="0,0,8,0">
                                <Image Source="delete_user.png"
                                 HeightRequest="32"
                                 WidthRequest="32"
                                 VerticalOptions="Center" />
                                <Label Text="Удалить"
                                 FontSize="32"
                                 FontFamily="Inter"
                                 TextColor="White"
                                 VerticalOptions="Center" />
                            </HorizontalStackLayout>
                        </Frame>
                        <!-- Кнопка Загрузить -->
                        <Frame WidthRequest="90" HeightRequest="70"
 BackgroundColor="#4B164C"
 CornerRadius="32"
 Padding="0"
 HasShadow="False"
 VerticalOptions="Center">
                            <Frame.GestureRecognizers>
                                <TapGestureRecognizer Tapped="LoadUserClick"/>
                            </Frame.GestureRecognizers>
                            <ImageButton Source="load_button.png"
          BackgroundColor="Transparent"
          WidthRequest="40"
          HeightRequest="40"
          HorizontalOptions="Center"
          VerticalOptions="Center" />
                        </Frame>
                        
                    </HorizontalStackLayout>
                </Grid>
            </Frame>
        </Grid>
    </ScrollView>
</ContentPage>